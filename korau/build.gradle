dependencies {
	commonMainApi "com.soywiz:korio:$korioVersion"
	commonMainApi "com.soywiz:kds:$kdsVersion"

	//jvmMainImplementation files('lib/java-lame-3.98.4.jar')
	//jvmMainImplementation files('lib/javamp3-1.0.1.jar')

}

for (target in ["macosX64", "linuxX64", "mingwX64", "iosX64", "iosArm32", "iosArm64", "nativeCommon", "nativePosix"]) {
	kotlin.targets[target].compilations.main {
		cinterops {
			minimp3 {}
			stb_vorbis {}
		}
	}
}

kotlin.targets.mingwX64.compilations.main.cinterops {
	win32_winmm {}
}

kotlin.targets.linuxX64.compilations.main.cinterops {
	linux_OpenAL {}
}

kotlin.targets.macosX64.compilations.main.cinterops {
	//CoreAudio {}
	//CoreAudioKit {}
	//AudioToolbox {}
	AVFoundation {}
	mac_OpenAL {}
}

if (org.apache.tools.ant.taskdefs.condition.Os.isFamily(org.apache.tools.ant.taskdefs.condition.Os.FAMILY_MAC)) {
	for (target in ["nativeCommon", "nativePosix"]) {
		kotlin.targets[target].compilations.main.cinterops {
			AVFoundation {}
			mac_OpenAL {}
		}
	}
}